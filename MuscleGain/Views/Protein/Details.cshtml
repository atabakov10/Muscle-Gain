@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Microsoft.Build.Globbing
@model ProteinDetailsViewModel

@{
	ViewData["Title"] = "Protein Details";

}

<link rel="stylesheet" href="css/site.css" />

<div class="container bootdey">
	<div class="col-md-12">
		<section class="panel">
			<div class="panel-body">
				<div class="col-md-6">
					<div class="pro-img-details">
						<img src=@Model.ImageUrl>
					</div>
				</div>
				<div class="col-md-6">
					<h2 class="pro-d-title">
						<a>
							@Model.Name
						</a>
					</h2>
					<p>
						@Model.Description
					</p>
					<div class="product_meta">
						<span class="tagged_as"><strong>Flavour:</strong> <a>@Model.Flavour</a></span>
						<span class="posted_in"> <strong>Category:</strong> @Model.CategoryId <a rel="tag" href="#"></a>, <a rel="tag" href="#">Men</a>, <a rel="tag" href="#">Shirts</a>, <a rel="tag" href="#">T-shirt</a>.</span>
					</div>
					<div class="m-bot15"> <strong>Price : </strong><span class="pro-price"> $@Model.Price</span></div>
					<div class="form-group">
						<label>Quantity</label>
						<input type="quantiy" placeholder="1" class="form-control quantity">
					</div>
					<p>
						<a asp-controller="ShoppingCart" asp-action="Add" class="btn btn-round btn-danger" type="submit"><i class="fa fa-shopping-cart"></i> Add to Cart</a>
						<a asp-controller="Protein" asp-action="CreateReview" asp-route-id="@Model.Id" type="button" class="btn btn-info">Add Review</a>
					</p>
				</div>
				<div class="row">
					<div class=" col-12">
						<div class="card card-indigo">
							<div class="card-header">
								<h3 class="card-title">Reviews</h3>
							</div>
							<div class="card-body" style="height: 300px; overflow-y: scroll">
								<div class="container my-5 py-5">
									<div class="row d-flex justify-content-start">
										<div class="col-md-8 col-lg-5 col-xl-4">
											@foreach (var review in Model.Reviews)
											{
												<div class="card">
													<div class="card-body">
														<div class="d-flex flex-start align-items-start">
															@if (review.ImageUrl == null)
															{
																<img class="rounded-circle me-3" src="~/img/6a5b3185c490202f2b693763a1f98abf.jpg"
															 alt="avatar" width="60"
															 height="60" />
															}
															else
															{
																<img class="rounded-circle me-3"
															 src=@review.ImageUrl alt="avatar" width="60"
															 height="60" />
															}

															<div>
																<h6 class="fw-bold text-primary mb-1">@review.UserFullName</h6>
																<p class="text-muted small mb-0">
																	Shared review - @review.DateOfPublication
																</p>
															</div>
														</div>
														<p class="mt-3 mb-4 pb-2">
															<strong>Rating: @review.Rating</strong>
														</p>
														<p class="mt-3 mb-4 pb-2">
															@review.Comment
														</p>
													</div>
												</div>
											}
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
</div>